%% Document type
\documentclass[]{amsbook}

%% Packages
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{exercise}
\usepackage{hyperref}

%% User-defined commands
\newcommand{\q}{\quad}
\newcommand{\qq}{\qquad}
\newcommand{\catname}[1]{\mathbf{#1}}

\newtheorem{prop}{Proposition}

%% Title and author
\title{Introduction to Categories and Categorical Logic}
\author{Vishal Lama}
\date{\today}

\begin{document}
\frontmatter
\maketitle
\tableofcontents
\mainmatter

\chapter{Introduction to Categories and Categorical Logic}
\section{Introduction}
We say that a function $f: X \to Y$ is:\\~\\
\begin{tabular}{ l l }
	\emph{injective} & if $\forall x, x' \in X. f(x) = f(x') \implies x = x'$, \\
	\emph{surjective} & if $\forall y \in Y. \exists x \in X. f(x) = y$, \\~\\
	\emph{monic} & if $\forall g, h. f \circ g = f \circ h \implies g = h$
	\q ($f$ is left cancellative),\\
	\emph{epic} & if $\forall g, h. g \circ f = h \circ f \implies g = h$
	\q ($f$ is right cancellative).
\end{tabular}\\

\begin{prop}
	Let $f : X \to Y$. Then,
	\begin{enumerate}
		\item $f$ is injective $\iff f$ is monic.
		\item $f$ is surjective $\iff f$ is epic.
	\end{enumerate}
\end{prop}
\begin{proof}
	We first show $(1)$.\\
	($\impliedby$) Suppose $f$ is monic. Fix a one-element set
	$\boldsymbol{1} = \{ \bullet \}$. Then, note that elements $x \in X$ are in
	1-1 correspondence with functions $\bar{x}: \boldsymbol{1} \to X$, defined
	by $\bar{x}(\bullet) := x$. Then, for all $x, x' \in X$, we have\\~\\
	\begin{tabular} { l l }
		& $f(x) = f(x')$\\
		$\implies$ & $f(\bar{x}(\bullet)) = f(\bar{x'}(\bullet))$\\
		$\implies$ & $(f \circ \bar{x})(\bullet) = (f \circ \bar{x'})(\bullet)$\\
		$\implies$ & $f \circ \bar{x} = f \circ \bar{x'}$\\
		$\implies$ & $\bar{x} = \bar{x'}$ \q (since $f$ is monic) \\
		$\implies$ & $\bar{x}(\bullet) = \bar{x'}(\bullet)$\\
		$\implies$ & $x = x'$
	\end{tabular}\\
	This shows that $f$ is injective.\\

	($\implies$) Suppose $f$ is injective. Let $f \circ g = f \circ h$ for all
	$g, h: A \to X$. Then, for all $a \in A$,\\
	\begin{tabular} { l l }
		& $(f \circ g)(a) = (f \circ h)(a)$\\
		$\implies$ & $f(g(a)) = f(h(a))$\\
		$\implies$ & $g(a) = h(a)$ \q (since $f$ is injective)\\
		$\implies$ & $g = h$
	\end{tabular}\\
	This establishes that $f$ is monic. And, we are done.
\end{proof}

\setcounter{Exercise}{1}
\begin{Exercise}
	Show that $f: X \to Y$ is surjective iff it is epic.
\end{Exercise}
\begin{proof}
	($\implies$) Suppose $f: X \to Y$ is epic. And, assume, for the sake of contradiction,
	$f$ is \emph{not} surjective. Then, there exists some $y_0 \in Y$, such
	that, for all $x \in X$, $f(x) \ne y_0$. Define mappings $g, h: Y \to Y \cup \{ Y \}$
	by:
	\begin{center}
		$g(y) := y$\\~\\
		$h(y) :=
		\begin{cases}
		y & \text{if } y \ne y_0 \\
		Y & \text{if } y = y_0
		\end{cases}$
	\end{center}
	Note that $g \ne h$.\\
	Then, for all $x \in X$, $(g \circ f)(x) = g(f(x)) = h(f(x)) = (h \circ f)(x)$.
	This implies $g \circ f = h \circ f$, which implies $g = h$, since $f$ is
	epic. The last conclusion contradicts the fact that $g = h$. Thus, we
	conclude $f$ is	surjective.\\~\\
	($\impliedby$) Suppose $f: X \to Y$ is surjective. Then, for any $y \in Y$,
	there exists an $x \in X$, such that $f(x) = y$. Now, assume, for all
	$g, h: Y \to Z$, $g \circ f = h \circ f$. Then, for all $y \in Y$,
	$g(y) = g(f(x)) = (g \circ f)(x) = (h \circ f)(x) = h(f(x)) = h(y)$, which
	implies $g = h$, showing that $f$ is epic.\\
	And, this completes our proof.
\end{proof}

\setcounter{Exercise}{4}
\begin{Exercise}
	Suppose $G$ and $H$ are groups (and hence monoids), and that $h: G \to H$
	is a monoid homomorphism. Prove that $h$ is a group homomorphism.
\end{Exercise}
\begin{proof}
	We need only show that $h$ preserves inverses. To that end,
	suppose $g^{-1}$ is the inverse of $g \in G$. Then, $h(g) h(g^{-1}) =
	h(g g^{-1}) = h(1_G) = 1_H = h(1_G) = h(g^{-1} g) = h(g^{-1}) h(g)$.
	This establishes $h$ preserves inverses, and we are done.
\end{proof}

\begin{Exercise}
	Check that $\catname{Mon}, \catname{Vect}_k, \catname{Pos}$, and
	$\catname{Top}$ are indeed categories.
\end{Exercise}
\begin{proof}
	($\catname{Mon}$) The objects are monoids $(M, \cdot, 1_M)$, and morphisms
	are monoid homomorphisms. Given monoid homomorphisms, $f: (M, \cdot, 1_M)
	\to (N, \cdot, 1_N)$ and $g: (N, \cdot, 1_N) \to (P, \cdot, 1_P)$, the
	function $g \circ f: (M, \cdot, 1_M) \to (P, \cdot, 1_P)$ is also a monoid
	homomorphism, because for all $m, m' \in M$, we have $(g \circ f)(m m') =
	g(f(m m')) = g(f(m) f(m')) = (g(f(m)) (g(f(m'))) = ((g \circ f)(m))
	((g \circ f)(m'))$. Also, for each monoid, the identity morphism is the
	identity function. It is also easy to check that for all monoid
	homomorphisms $f, g$ and $h$ with the appropriate domains and codomains,
	$h \circ (g \circ f) = (h \circ g) \circ f$. This establishes that
	$\catname{Mon}$ is indeed a category.
\end{proof}

\end{document}
